/*紫微斗數 Chinese Astrology Zi Wei Dou Shu*/
/*天干地支五行局*/
var YinYang = ["陽", "陰"];
var HeavenlyStems = [
  "甲",
  "乙",
  "丙",
  "丁",
  "戊",
  "己",
  "庚",
  "辛",
  "壬",
  "癸",
];
var ShengXiaoGB = [
  "鼠",
  "牛",
  "虎",
  "兔",
  "龍",
  "蛇",
  "馬",
  "羊",
  "猴",
  "雞",
  "狗",
  "豬",
];
var EarthlyBranches = [
  "子",
  "丑",
  "寅",
  "卯",
  "辰",
  "巳",
  "午",
  "未",
  "申",
  "酉",
  "戌",
  "亥",
];
var Palace = [
  "【命宮】",
  "【父母宮】",
  "【福德宮】",
  "【田宅宮】",
  "【官祿宮】",
  "【交友宮】",
  "【遷移宮】",
  "【疾厄宮】",
  "【財帛宮】",
  "【子女宮】",
  "【夫妻宮】",
  "【兄弟宮】",
  "【身】",
];
var FiveElements = ["水二局", "火六局", "土五局", "木三局", "金四局"];
var DaShian = [2, 6, 5, 3, 4]; //搭配五行局
/*Stars*/
var StarM_A14 = [
  "紫微",
  "天機",
  "太陽",
  "武曲",
  "天同",
  "廉貞",
  "天府",
  "太陰",
  "貪狼",
  "巨門",
  "天相",
  "天梁",
  "七殺",
  "破軍",
];
var StarM_A07 = ["文昌", "文曲", "左輔", "右弼", "天魁", "天鉞", "祿存"];
var StarM_S04 = ["化祿", "化權", "化科", "化忌"];
var StarM_B06 = ["擎羊", "陀羅", "火星", "鈴星", "天空", "地劫"];
var StarO_S05 = ["天馬", "龍池", "鳳閣", "紅鸞", "天喜"];
/*0:水二局:[1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,0,0,1,1,2,2,3,3,4]
  3:木三局:[4,1,2,5,2,3,6,3,4,7,4,5,8,5,6,9,6,7,10,7,8,11,8,9,0,9,10,1,10,11]
  4:金四局:[11,4,1,2,0,5,2,3,1,6,3,4,2,7,4,5,3,8,5,6,4,9,6,7,5,10,7,8,6,11]
  2:土五局:[6,11,4,1,2,7,0,5,2,3,8,1,6,3,4,9,2,7,4,5,10,3,8,5,6,11,4,9,6,7]
  1:火六局:[9,6,11,4,1,2,10,7,0,5,2,3,11,8,1,6,3,4,0,9,2,7,4,5,1,10,3,8,5,6]*/
var FiveEleTable = [
  [
    1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 0, 0, 1,
    1, 2, 2, 3, 3, 4,
  ],
  [
    9, 6, 11, 4, 1, 2, 10, 7, 0, 5, 2, 3, 11, 8, 1, 6, 3, 4, 0, 9, 2, 7, 4, 5,
    1, 10, 3, 8, 5, 6,
  ],
  [
    6, 11, 4, 1, 2, 7, 0, 5, 2, 3, 8, 1, 6, 3, 4, 9, 2, 7, 4, 5, 10, 3, 8, 5, 6,
    11, 4, 9, 6, 7,
  ],
  [
    4, 1, 2, 5, 2, 3, 6, 3, 4, 7, 4, 5, 8, 5, 6, 9, 6, 7, 10, 7, 8, 11, 8, 9, 0,
    9, 10, 1, 10, 11,
  ],
  [
    11, 4, 1, 2, 0, 5, 2, 3, 1, 6, 3, 4, 2, 7, 4, 5, 3, 8, 5, 6, 4, 9, 6, 7, 5,
    10, 7, 8, 6, 11,
  ],
];
var FiveEleArr = [
  [0, 1, 3, 2, 4, 1],
  [1, 2, 4, 3, 0, 2],
  [2, 3, 0, 4, 1, 3],
  [3, 4, 1, 0, 2, 4],
  [4, 0, 2, 1, 3, 0],
];

//StarM_A14 => 0:紫微,1:天機,2:太陽,3:武曲,4:天同,5:廉貞,6:天府,7:太陰,8:貪狼,9:巨門,10:天相,11:天梁,12:七殺,13:破軍
var Star_A14 = [
  [[0], [], [13], [], [5, 6], [7], [8], [4, 9], [3, 10], [2, 11], [12], [1]],
  [[1], [0, 13], [], [6], [7], [5, 8], [9], [10], [4, 11], [3, 12], [2], []],
  [[13], [1], [0, 6], [7], [8], [9], [5, 10], [11], [12], [10], [3], [2]],
  [[2], [6], [1, 7], [0, 8], [9], [10], [11], [5, 12], [], [], [4], [3, 13]],
  [[3, 6], [2, 7], [8], [1, 9], [0, 10], [11], [12], [], [5], [], [13], [4]],
  [
    [4, 7],
    [3, 8],
    [2, 9],
    [10],
    [1, 10],
    [0, 12],
    [],
    [],
    [],
    [5, 13],
    [],
    [6],
  ],
  [[8], [4, 9], [3, 10], [2, 11], [12], [1], [0], [], [13], [], [5, 6], [7]],
  [[9], [10], [4, 11], [3, 12], [2], [], [1], [0, 13], [], [6], [7], [5, 8]],
  [[5, 10], [11], [12], [10], [3], [2], [13], [1], [0, 6], [7], [8], [9]],
  [[11], [5, 12], [], [], [4], [3, 13], [2], [6], [1, 7], [0, 8], [9], [10]],
  [[12], [], [5], [], [13], [4], [3, 6], [2, 7], [8], [1, 9], [0, 10], [11]],
  [
    [],
    [],
    [],
    [5, 13],
    [],
    [6],
    [4, 7],
    [3, 8],
    [2, 9],
    [10],
    [1, 10],
    [0, 12],
  ],
];
//安紫微諸星表，第7列，[6]為天府
var Star_Z06 = [
  [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11],
  [11, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
  [9, 10, 11, 0, 1, 2, 3, 4, 5, 6, 7, 8],
  [8, 9, 10, 11, 0, 1, 2, 3, 4, 5, 6, 7],
  [7, 8, 9, 10, 11, 0, 1, 2, 3, 4, 5, 6],
  [4, 5, 6, 7, 8, 9, 10, 11, 0, 1, 2, 3],
  [4, 3, 2, 1, 0, 11, 10, 9, 8, 7, 6, 5],
];
var Star_T08 = [
  [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11],
  [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 0],
  [2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 0, 1],
  [3, 4, 5, 6, 7, 8, 9, 10, 11, 0, 1, 2],
  [4, 5, 6, 7, 8, 9, 10, 11, 0, 1, 2, 3],
  [5, 6, 7, 8, 9, 10, 11, 0, 1, 2, 3, 4],
  [6, 7, 8, 9, 10, 11, 0, 1, 2, 3, 4, 5],
  [10, 11, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9],
];
//StarM_A07=new Array("文昌","文曲","左輔","右弼","天魁","天鉞","祿存");
//0:文昌 1:文曲 (時) 2:左輔 3:右弼 (月) 4:天魁 5:天鉞 6:祿存(年干)
var Star_G07 = [
  [10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0, 11],
  [4, 5, 6, 7, 8, 9, 10, 11, 0, 1, 2, 3],
  [4, 5, 6, 7, 8, 9, 10, 11, 0, 1, 2, 3],
  [10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0, 11],
  [1, 0, 11, 11, 1, 0, 1, 6, 3, 3],
  [7, 8, 9, 9, 7, 8, 7, 2, 5, 5],
  [2, 3, 5, 6, 5, 6, 8, 9, 11, 0],
];
//StarM_S04=new Array("化祿","化權","化科","化忌");
//0:紫微,1:天機,2:太陽,3:武曲,4:天同,5:廉貞,6:天府,7:太陰,8:貪狼,9:巨門,10:天相,11:天梁,12:七殺,13:破軍
//0:文昌 1:文曲 (時) 2:左輔 3:右弼 (月) 4:天魁 5:天鉞 6:祿存(年干)
//0:化祿 1:化權 2:化科 3:化忌
var Star_S04 = [
  [
    StarM_A14[5],
    StarM_A14[1],
    StarM_A14[4],
    StarM_A14[7],
    StarM_A14[8],
    StarM_A14[3],
    StarM_A14[2],
    StarM_A14[9],
    StarM_A14[11],
    StarM_A14[13],
  ],
  [
    StarM_A14[13],
    StarM_A14[11],
    StarM_A14[1],
    StarM_A14[4],
    StarM_A14[7],
    StarM_A14[8],
    StarM_A14[3],
    StarM_A14[2],
    StarM_A14[0],
    StarM_A14[9],
  ],
  [
    StarM_A14[3],
    StarM_A14[0],
    StarM_A07[0],
    StarM_A14[1],
    StarM_A07[3],
    StarM_A14[11],
    StarM_A14[7],
    StarM_A07[1],
    StarM_A07[2],
    StarM_A14[7],
  ],
  [
    StarM_A14[2],
    StarM_A14[7],
    StarM_A14[5],
    StarM_A14[9],
    StarM_A14[1],
    StarM_A07[1],
    StarM_A14[4],
    StarM_A07[0],
    StarM_A14[3],
    StarM_A14[8],
  ],
];
//StarM_B06=new Array("擎羊","陀羅","火星","鈴星","天空","地劫");
//0:擎羊 1:陀羅 2:火星 3:鈴星 4:天空 5:地劫
//0:2,6,10 1:8,0,4 2:5,9,1 3:11,3,7  %4=> 2,0,1,3
//改成0:8,0,4 1:5,9,1 2:2,6,10 3:11,3,7
var Star_B06 = [
  [3, 4, 6, 7, 6, 7, 9, 10, 0, 1],
  [1, 2, 4, 5, 4, 5, 7, 8, 10, 11],
  [
    [2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 0, 1],
    [3, 4, 5, 6, 7, 8, 9, 10, 11, 0, 1, 2],
    [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 0],
    [9, 10, 11, 0, 1, 2, 3, 4, 5, 6, 7, 8],
  ],
  [
    [10, 11, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9],
    [10, 11, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9],
    [3, 4, 5, 6, 7, 8, 9, 10, 11, 0, 1, 2],
    [10, 11, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9],
  ],
  [11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0],
  [11, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
];
//StarO_S05=new Array("天馬","龍池","鳳閣","紅鸞","天喜"");
var Star_OS5 = [
  [2, 11, 8, 5, 2, 11, 8, 5, 2, 11, 8, 5],
  [4, 5, 6, 7, 8, 9, 10, 11, 0, 1, 2, 3],
  [10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0, 11],
  [3, 2, 1, 0, 11, 10, 9, 8, 7, 6, 5, 4],
  [9, 8, 7, 6, 5, 4, 3, 2, 1, 0, 11, 10],
];


var year_to_stem_branch = {
  1900: "庚子",
  1901: "辛丑",
  1902: "壬寅",
  1903: "癸卯",
  1904: "甲辰",
  1905: "乙巳",
  1906: "丙午",
  1907: "丁未",
  1908: "戊申",
  1909: "己酉",
  1910: "庚戌",
  1911: "辛亥",
  1912: "壬子",
  1913: "癸丑",
  1914: "甲寅",
  1915: "乙卯",
  1916: "丙辰",
  1917: "丁巳",
  1918: "戊午",
  1919: "己未",
  1920: "庚申",
  1921: "辛酉",
  1922: "壬戌",
  1923: "癸亥",
  1924: "甲子",
  1925: "乙丑",
  1926: "丙寅",
  1927: "丁卯",
  1928: "戊辰",
  1929: "己巳",
  1930: "庚午",
  1931: "辛未",
  1932: "壬申",
  1933: "癸酉",
  1934: "甲戌",
  1935: "乙亥",
  1936: "丙子",
  1937: "丁丑",
  1938: "戊寅",
  1939: "己卯",
  1940: "庚辰",
  1941: "辛巳",
  1942: "壬午",
  1943: "癸未",
  1944: "甲申",
  1945: "乙酉",
  1946: "丙戌",
  1947: "丁亥",
  1948: "戊子",
  1949: "己丑",
  1950: "庚寅",
  1951: "辛卯",
  1952: "壬辰",
  1953: "癸巳",
  1954: "甲午",
  1955: "乙未",
  1956: "丙申",
  1957: "丁酉",
  1958: "戊戌",
  1959: "己亥",
  1960: "庚子",
  1961: "辛丑",
  1962: "壬寅",
  1963: "癸卯",
  1964: "甲辰",
  1965: "乙巳",
  1966: "丙午",
  1967: "丁未",
  1968: "戊申",
  1969: "己酉",
  1970: "庚戌",
  1971: "辛亥",
  1972: "壬子",
  1973: "癸丑",
  1974: "甲寅",
  1975: "乙卯",
  1976: "丙辰",
  1977: "丁巳",
  1978: "戊午",
  1979: "己未",
  1980: "庚申",
  1981: "辛酉",
  1982: "壬戌",
  1983: "癸亥",
  1984: "甲子",
  1985: "乙丑",
  1986: "丙寅",
  1987: "丁卯",
  1988: "戊辰",
  1989: "己巳",
  1990: "庚午",
  1991: "辛未",
  1992: "壬申",
  1993: "癸酉",
  1994: "甲戌",
  1995: "乙亥",
  1996: "丙子",
  1997: "丁丑",
  1998: "戊寅",
  1999: "己卯",
  2000: "庚辰",
  2001: "辛巳",
  2002: "壬午",
  2003: "癸未",
  2004: "甲申",
  2005: "乙酉",
  2006: "丙戌",
  2007: "丁亥",
  2008: "戊子",
  2009: "己丑",
  2010: "庚寅",
  2011: "辛卯",
  2012: "壬辰",
  2013: "癸巳",
  2014: "甲午",
  2015: "乙未",
  2016: "丙申",
  2017: "丁酉",
  2018: "戊戌",
  2019: "己亥",
  2020: "庚子",
  2021: "辛丑",
  2022: "壬寅",
  2023: "癸卯",
  2024: "甲辰",
  2025: "乙巳",
};